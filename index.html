<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Interactive Quiz Study Tool</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- Mobile Menu Button -->
    <button id="mobile-menu-btn" class="mobile-menu-btn"></button>
    
    <!-- Help Button -->
    <button id="help-btn" class="help-btn">?</button>
    
    <!-- Mobile Quiz Overlay -->
    <div id="mobile-quiz-overlay" class="mobile-quiz-overlay">
        <div class="mobile-quiz-content">
            <div class="mobile-quiz-header">
                <h2>Your Quizzes</h2>
                <button id="mobile-close-btn" class="mobile-close-btn">√ó</button>
            </div>
            <button id="mobile-add-quiz-btn" class="mobile-add-quiz-btn">
                <span class="add-icon">+</span>
                <span class="add-text">Add New Quiz</span>
            </button>
            <div id="mobile-quiz-list" class="mobile-quiz-list">
                <!-- Mobile quiz items will be dynamically added here -->
            </div>
        </div>
    </div>

    <!-- Sidebar -->
    <div id="sidebar" class="sidebar">
        <div class="sidebar-header">
            <h2>Quiz Library</h2>
            <button id="toggle-sidebar" class="toggle-btn">‚Üê</button>
        </div>
        
        <div class="sidebar-content">
            <button id="add-quiz-btn" class="add-quiz-btn">+ Add New Quiz</button>
            <div id="quiz-list" class="quiz-list">
                <!-- Quiz items will be dynamically added here -->
            </div>
        </div>
    </div>

    <!-- Main Content -->
    <div id="main-content" class="main-content">
        <!-- Dashboard View -->
        <div id="dashboard-view" class="view active">
            <header class="dashboard-header">
                <h1>Interactive Quiz Study Tool</h1>
                <p class="subtitle">Track your progress and master any subject with interactive quizzes</p>
            </header>
            
            <!-- Empty State Helper -->
            <div id="empty-state-helper" class="empty-state-helper" style="display: none;">
                <div class="empty-state-content">
                    <h3>üéì Ready to Start Learning?</h3>
                    <p>You don't have any quizzes yet. Let's create your first one!</p>
                    <div class="empty-state-steps">
                        <div class="step">
                            <span class="step-number">1</span>
                            <div class="step-content">
                                <strong>Get the AI Prompt</strong>
                                <small>Click the ? button to copy our template</small>
                            </div>
                        </div>
                        <div class="step">
                            <span class="step-number">2</span>
                            <div class="step-content">
                                <strong>Use Any AI</strong>
                                <small>Paste into ChatGPT, Claude, or Gemini</small>
                            </div>
                        </div>
                        <div class="step">
                            <span class="step-number">3</span>
                            <div class="step-content">
                                <strong>Create Your Quiz</strong>
                                <small>Click "Add New Quiz" and paste the result</small>
                            </div>
                        </div>
                    </div>
                    <button id="empty-state-help" class="control-btn primary">? Get Instructions</button>
                </div>
            </div>

            <div class="stats-container">
                <div class="stat-card">
                    <h3>Current Streak</h3>
                    <div id="current-streak" class="stat-number">0</div>
                    <span class="stat-label">days</span>
                </div>
                <div class="stat-card">
                    <h3>Total Quizzes</h3>
                    <div id="total-quizzes" class="stat-number">0</div>
                    <span class="stat-label">completed</span>
                </div>
                <div class="stat-card">
                    <h3>Average Score</h3>
                    <div id="average-score" class="stat-number">0%</div>
                    <span class="stat-label">accuracy</span>
                </div>
            </div>

            <div class="attendance-section">
                <h2>Study Attendance</h2>
                <div id="attendance-grid" class="attendance-grid">
                    <!-- Attendance grid will be generated here -->
                </div>
            </div>
        </div>

        <!-- Quiz View -->
        <div id="quiz-view" class="view">
            <div class="quiz-header">
                <button id="back-to-dashboard" class="back-btn">‚Üê Back to Dashboard</button>
                <h2 id="quiz-title">Quiz Title</h2>
                <div class="quiz-progress">
                    <span id="question-counter">Question 1 of 10</span>
                </div>
            </div>

            <div class="quiz-content">
                <div id="question-container" class="question-container">
                    <h3 id="question-text">Question will appear here</h3>
                    <div id="options-container" class="options-container">
                        <!-- Options will be dynamically added here -->
                    </div>
                </div>

                <div class="explanation-section">
                    <label for="explanation-input">Explain your answer:</label>
                    <textarea id="explanation-input" placeholder="Write your reasoning here..."></textarea>
                </div>

                <div class="quiz-controls">
                    <button id="prev-question" class="control-btn secondary" disabled>Previous</button>
                    <button id="next-question" class="control-btn primary">Next</button>
                    <button id="submit-quiz" class="control-btn primary" style="display: none;">Submit Quiz</button>
                </div>
            </div>
        </div>

        <!-- Results View -->
        <div id="results-view" class="view">
            <div class="results-header">
                <button id="back-to-dashboard-results" class="back-btn">‚Üê Back to Dashboard</button>
                <h2>Quiz Results</h2>
            </div>

            <div class="results-content">
                <div id="results-summary" class="results-summary">
                    <div class="result-status">
                        <div id="pass-fail-indicator" class="status-indicator">PASS</div>
                        <h3 id="score-display">8/10 Correct</h3>
                        <p id="percentage-display">80% Accuracy</p>
                    </div>
                </div>

                <div class="results-actions">
                    <button id="retake-quiz" class="control-btn primary">Retake Quiz</button>
                    <button id="review-answers" class="control-btn secondary">Review Answers</button>
                </div>

                <div id="answer-review" class="answer-review" style="display: none;">
                    <!-- Detailed answer review will be shown here -->
                </div>
            </div>
        </div>
    </div>

    <!-- Modal for adding new quiz -->
    <div id="add-quiz-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Add New Quiz</h3>
                <button id="close-modal" class="close-btn">√ó</button>
            </div>
            <div class="modal-body">
                <p>Add a new quiz using one of the methods below:</p>
                
                <!-- Tab Navigation -->
                <div class="upload-tabs">
                    <button id="file-tab" class="upload-tab active" data-tab="file">üìÅ Upload File</button>
                    <button id="paste-tab" class="upload-tab" data-tab="paste">üìã Paste JSON</button>
                </div>
                
                <!-- File Upload Tab -->
                <div id="file-upload-section" class="upload-section active">
                    <div class="file-upload-area">
                        <input type="file" id="quiz-file-input" accept=".json" />
                        <label for="quiz-file-input" class="file-upload-label">
                            <span>Choose JSON file</span>
                            <small>or drag and drop here</small>
                        </label>
                    </div>
                    <div id="file-preview" class="file-preview" style="display: none;">
                        <p>File selected: <span id="file-name"></span></p>
                    </div>
                </div>
                
                <!-- JSON Paste Tab -->
                <div id="json-paste-section" class="upload-section">
                    <div class="json-paste-area">
                        <label for="json-paste-input">Paste your quiz JSON here:</label>
                        <textarea id="json-paste-input" placeholder='Paste your JSON here, for example:
{
  "title": "Sample Quiz",
  "questions": [
    {
      "question": "What is 2 + 2?",
      "options": ["3", "4", "5", "6"],
      "correct_answer": "4"
    }
  ]
}'></textarea>
                        <div class="json-validation-info">
                            <small>üí° Tip: Copy JSON from your text editor or another quiz tool</small>
                        </div>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button id="cancel-upload" class="control-btn secondary">Cancel</button>
                <button id="upload-quiz" class="control-btn primary" disabled>Upload Quiz</button>
            </div>
        </div>
    </div>

    <!-- Welcome/Instructions Modal -->
    <div id="welcome-modal" class="modal welcome-modal">
        <div class="modal-content welcome-content">
            <div class="modal-header">
                <h3>Welcome to Interactive Quiz Study Tool</h3>
                <button id="close-welcome" class="close-btn">√ó</button>
            </div>
            <div class="modal-body welcome-body">
                <div class="welcome-section">
                    <h4>üéØ How This Works</h4>
                    <ol class="instruction-list">
                        <li><strong>Get the AI Prompt:</strong> Copy our template below to create quiz questions</li>
                        <li><strong>Use Any AI:</strong> Paste into ChatGPT, Claude, Gemini, or any LLM</li>
                        <li><strong>Add Your Content:</strong> Replace the placeholder with your study material</li>
                        <li><strong>Generate Quiz:</strong> The AI will create JSON-formatted questions</li>
                        <li><strong>Upload & Study:</strong> Paste the JSON here and start learning!</li>
                    </ol>
                </div>
                
                <div class="welcome-section">
                    <h4>üìã LLM Prompt Template</h4>
                    <p>Copy this prompt and use it with any AI to generate quiz questions:</p>
                    <div class="prompt-container">
                        <textarea id="llm-prompt" readonly>You are an educational expert creating quiz questions for studying any subject. Based on the study material I provide, generate a comprehensive quiz in JSON format.

**Requirements:**
1. Create 8-12 multiple-choice questions based on the provided material
2. Each question should have 4 answer options (A, B, C, D)
3. Only ONE answer should be correct per question
4. Questions should test understanding, not just memorization
5. Include a mix of difficulty levels (basic recall, application, analysis)
6. Focus on the most important concepts and practical applications

**JSON Structure Required:**
{
  "title": "Descriptive Quiz Title Here",
  "questions": [
    {
      "question": "Clear, specific question text here?",
      "options": [
        "First answer option",
        "Second answer option", 
        "Third answer option",
        "Fourth answer option"
      ],
      "correct_answer": "Exact text of the correct answer from options above",
      "explanation_prompt": "Brief prompt to guide student's self-explanation"
    }
  ]
}

**Important Guidelines:**
- The "correct_answer" field must EXACTLY match one of the options in the "options" array
- Questions should be clear and unambiguous
- Avoid "all of the above" or "none of the above" options
- Include relevant terminology and concepts from the subject area
- Make incorrect options plausible but clearly wrong to an informed student
- Keep questions focused on the most important concepts from the material

**Study Material:**
[PASTE YOUR STUDY MATERIAL HERE - can be text from textbooks, PDFs, lecture notes, online articles, course materials, etc.]

Please generate the quiz in the exact JSON format specified above.</textarea>
                        <button id="copy-prompt" class="copy-btn">üìã Copy Prompt</button>
                    </div>
                </div>
                
                <div class="welcome-section">
                    <h4>üí° Pro Tips</h4>
                    <ul class="tips-list">
                        <li><strong>Quality Material:</strong> Include definitions, key concepts, and context</li>
                        <li><strong>Mix Difficulty:</strong> Ask for basic, application, and analysis questions</li>
                        <li><strong>Review Output:</strong> Always check that the JSON is valid before uploading</li>
                        <li><strong>Study Smart:</strong> Use the explanation field to practice reasoning</li>
                    </ul>
                </div>
                
                <div class="welcome-section quick-start">
                    <h4>üöÄ Quick Start</h4>
                    <p>Ready to create your first quiz? Click "Get Started" and we'll show you where to paste your AI-generated JSON!</p>
                </div>
            </div>
            <div class="modal-footer">
                <button id="skip-welcome" class="control-btn secondary">Skip for Now</button>
                <button id="get-started" class="control-btn primary">Get Started!</button>
            </div>
        </div>
    </div>

    <!-- Overlay -->
    <div id="modal-overlay" class="modal-overlay"></div>

    <script src="script.js"></script>
</body>
</html>

